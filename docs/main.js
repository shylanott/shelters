parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"or4r":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,v=a||s||Function("return this")(),l=Object.prototype,p=l.toString,b=Math.max,m=Math.min,y=function(){return v.Date.now()};function d(t,n,r){var i,o,u,f,c,a,s=0,v=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(e);function d(e){var n=i,r=o;return i=o=void 0,s=e,f=t.apply(r,n)}function g(t){var e=t-a;return void 0===a||e>=n||e<0||l&&t-s>=u}function O(){var t=y();if(g(t))return x(t);c=setTimeout(O,function(t){var e=n-(t-a);return l?m(e,u-(t-s)):e}(t))}function x(t){return c=void 0,p&&i?d(t):(i=o=void 0,f)}function T(){var t=y(),e=g(t);if(i=arguments,o=this,a=t,e){if(void 0===c)return function(t){return s=t,c=setTimeout(O,n),v?d(t):f}(a);if(l)return c=setTimeout(O,n),d(a)}return void 0===c&&(c=setTimeout(O,n)),f}return n=h(n)||0,j(r)&&(v=!!r.leading,u=(l="maxWait"in r)?b(h(r.maxWait)||0,n):u,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=a=o=c=void 0},T.flush=function(){return void 0===c?f:x(y())},T}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return!!t&&"object"==typeof t}function O(t){return"symbol"==typeof t||g(t)&&p.call(t)==r}function h(t){if("number"==typeof t)return t;if(O(t))return n;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||f.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}module.exports=d;
},{}],"WEtf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()}},e=r;exports.default=e;
},{}],"xZJw":[function(require,module,exports) {
"use strict";function o(o){return new Promise(function(t,e){d3.json("assets/data/".concat(o)).then(function(o){t(o)}).catch(e)})}function t(o){return new Promise(function(t,e){d3.csv("assets/data/".concat(o)).then(function(o){t(o)}).catch(e)})}function e(){o("exampleDogs.json")}function n(){t("exportedDogs.csv")}function s(){var e=[t("loc_centers.csv"),t("movement_paths.csv"),o("topo.json")];return Promise.all(e)}function a(){var t=[o("breed-crosswalk.json")];return Promise.all(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c={loadCSV:t,loadJSON:o,loadMap:s,loadCrosswalk:a};exports.default=c;
},{}],"TAPd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}var l=null,o=d3.selectAll(".intro"),s=d3.selectAll(".userState"),a=o.selectAll(".exampleDog"),c=o.selectAll(".intro-dog_out"),n=o.selectAll(".intro-dog_in"),i=o.selectAll(".intro-dog_image"),r=o.selectAll(".inTotal"),u=o.selectAll(".outTotal"),d=o.selectAll(".stateTotal"),x=o.selectAll(".herhis"),_=o.selectAll(".shehe"),f=o.selectAll(".moveCondition"),p=o.selectAll(".dogOrigin"),m=o.select(".intro-dog__bar"),A=d3.selectAll(".exported"),g=null,v=null,b=null,h=d3.format(",.0f"),S=d3.format(".0%");function T(e){l=e,O()}function y(e){var t=+e[0].count_imported/+e[0].total,l=(+e[0].total-+e[0].count_imported)/+e[0].total;m.select(".bar__inState").style("flex","".concat(l," 1 0")),m.select(".bar__outState").style("flex","".concat(t," 1 0")),m.select(".bar__inState-label").text(S(l)),m.select(".bar__outState-label").text(S(t)),o.select(".inPer").text(S(l))}function O(){b=g.filter(function(e){return e.current===l}),s.text(l),a.text(b[0].name),"TRUE"===b[0].imported?(c.classed("is-visible",!0),n.classed("is-visible",!1)):(c.classed("is-visible",!1),n.classed("is-visible",!0)),r.text(h(+b[0].count_imported)),u.text(h(+b[0].count_exported)),d.text(h(+b[0].total));var e=b[0].sex;x.text("m"===e?"his":"her"),_.text("m"===e?"he":"she"),f.text(b[0].conditions),p.text(b[0].original);var t=b[0].name.replace(" ",""),o=b[0].current.replace(" ","");i.attr("src","assets/images/faces/".concat(t,"_").concat(o,".png")),y(b)}function j(){}function D(t){e.default.loadJSON("exampleDogs.json").then(function(e){console.log({loc:t}),l=t,g=e,O()}).catch(console.error)}var M={init:D,resize:j,updateLocation:T};exports.default=M;
},{"./load-data":"xZJw"}],"HYmN":[function(require,module,exports) {
"use strict";var e=t(require("./../load-data"));function t(e){return e&&e.__esModule?e:{default:e}}d3.selection.prototype.exportsByState=function(t){var n=this.nodes().map(function(t){var n=d3.select(".exported"),a=d3.select(t),r=a.datum(),c=n.select(".exported-tooltip"),o=null;function s(){var e=d3.select(this),t=e.data()[0],n=e.node().parentNode;d3.select(n).selectAll(".dog").classed("dimmed",!0),e.classed("dimmed",!1),c.style("left","".concat(d3.event.pageX,"px")).style("top","".concat(d3.event.pageY,"px")).classed("is-hidden",!1),c.select(".tooltip-name").text(t.name),c.select(".tooltip-desc").text("".concat(t.age," • ").concat(t.sex)),c.select(".tooltip-breed").text(t.breed_secondary?"".concat(t.breed_primary," / ").concat(t.breed_secondary," mix"):"".concat(t.breed_primary))}function d(){d3.select(this),d3.selectAll(".dog").classed("dimmed",!1),c.classed("is-hidden",!0)}var i={init:function(){e.default.loadCrosswalk().then(function(e){d3.map(e[0],function(e){return e.file})}).catch(console.error),i.resize(),i.render()},resize:function(){return i},render:function(){var e=a.selectAll(".state").data(r,function(e){return"".concat(e.key,"-").concat(e.values.length)}).join(function(e){var t=e.append("div").attr("class","state");return o=t.append("p").attr("class","state-name"),t.append("div").attr("class","container-mini"),t});return o.text(function(e){return"".concat(e.key," • ").concat(e.values.length)}),e.select(".container-mini").selectAll(".dog").data(function(e){return e.values.sort(function(e,t){return d3.ascending(e.file,t.file)})}).join(function(e){return e.append("div").attr("class","dog").on("mouseover",s).on("mouseout",d)}).style("background-image",function(e){return"mix"===e.file?"url(assets/images/profiles/labrador.png)":"url(assets/images/profiles/".concat(e.file,".png)")}),i},data:function(e){return arguments.length?(r=e,a.datum(r),i.render(),i):r}};return i.init(),i});return n.length>1?n:n.pop()};
},{"./../load-data":"xZJw"}],"sOMx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}require("./pudding-chart/exports-template");var i=null,o=null,a="exports",s=d3.selectAll(".exported"),l=s.selectAll(".figure-container"),c=s.select(".show-more"),u=s.select(".transparency"),d=s.select(".toggle"),p=null,f=null,g=0,v=0;function b(){c.on("click",function(){var e=!l.classed("is-clipped"),t=e?"Show All":"Show Fewer";if(c.text(t),l.classed("is-clipped",e),e){var r=+c.attr("data-y");window.scrollTo(0,r)}c.attr("data-y",window.scrollY),u.classed("is-visible",e)})}function h(){d.on("click",function(){var e=d3.select(this),t=e.attr("aria-checked");"false"===t?(e.attr("aria-checked","true"),a="exports"):"true"===t&&(e.attr("aria-checked","false"),a="imports"),m(i)})}function y(e){var t=e.dogs,r=e.counts;r[a]>=60?(l.classed("is-clipped",!0),u.classed("is-visible",!0),c.property("disabled",!1).classed("is-disabled",!1)):(l.classed("is-clipped",!1),u.classed("is-visible",!1),c.property("disabled",!0).classed("is-disabled",!0)),i!==o&&(r.imports>r.exports?(d.attr("aria-checked",!1),a="imports"):(d.attr("aria-checked",!0),a="exports"));d3.nest().key(function(e){return"exports"===a?e.final_state:e.original_state}).key(function(e){return e.file}).rollup(function(e){return e.length}).entries(t[a]),d3.map(r,function(e){return e.key});var n=d3.nest().key(function(e){return"exports"===a?e.final_state:e.original_state}).entries(t[a]).sort(function(e,t){return d3.descending(e.values.length,t.values.length)});return console.log({nestedExports:n}),o=i,n}function x(e,t){i=e,a=t;var r=p.filter(function(e){return e.final_state===i}),n=p.filter(function(e){return e.original_state===i});return y({dogs:{imports:r,exports:n},counts:{imports:r.length,exports:n.length}})}function m(e){var t=x(e,a);f.data(t)}function k(e){var t=x(e,a);f=s.select(".figure-container").datum(t).exportsByState()}function w(e){return e.map(function(e,t){return r({},e,{name:e.name.replace(/ *\([^)]*\) */g,"").replace("Adopted","").replace("Pending","")})})}function _(){}function O(t){e.default.loadCSV("exportedDogs.csv").then(function(e){i=t,p=w(e),k(t,a),b(),h()}).catch(console.error)}var j={init:O,resize:_,updateLocation:m};exports.default=j;
},{"./load-data":"xZJw","./pudding-chart/exports-template":"HYmN"}],"v9Q8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Women’s Pockets are Inferior"}],t=null;function n(e,t){var n=document.getElementsByTagName("script")[0],o=document.createElement("script");return o.src=e,o.async=!0,n.parentNode.insertBefore(o,n),t&&"function"==typeof t&&(o.onload=t),o}function o(t){var n=new XMLHttpRequest,o=Date.now(),r="https://pudding.cool/assets/data/stories.json?v=".concat(o);n.open("GET",r,!0),n.onload=function(){if(n.status>=200&&n.status<400){var o=JSON.parse(n.responseText);t(o)}else t(e)},n.onerror=function(){return t(e)},n.send()}function r(e){return"\n\t<a class='footer-recirc__article' href='https://pudding.cool/".concat(e.url,"' target='_blank'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/").concat(e.image,".jpg' alt='").concat(e.hed,"'>\n\t\t<p class='article__headline'>").concat(e.hed,"</p>\n\t</a>\n\t")}function a(){var e=window.location.href,n=t.filter(function(t){return!e.includes(t.url)}).slice(0,4).map(r).join("");d3.select(".pudding-footer .footer-recirc__articles").html(n)}function s(){var e,t,o,r,a;e=document,t="script",o="facebook-jssdk",a=e.getElementsByTagName(t)[0],e.getElementById(o)||((r=e.createElement(t)).id=o,r.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7",a.parentNode.insertBefore(r,a)),n("https://platform.twitter.com/widgets.js")}function c(){o(function(e){t=e,a(),s()})}var i={init:c};exports.default=i;
},{}],"osrT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=[{state:"Alabama",abbr:"AL"},{state:"Alaska",abbr:"AK"},{state:"Arizona",abbr:"AZ"},{state:"Arkansas",abbr:"AR"},{state:"California",abbr:"CA"},{state:"Colorado",abbr:"CO"},{state:"Connecticut",abbr:"CT"},{state:"Delaware",abbr:"DE"},{state:"District of Columbia",abbr:"DC"},{state:"Florida",abbr:"FL"},{state:"Georgia",abbr:"GA"},{state:"Hawaii",abbr:"HI"},{state:"Idaho",abbr:"ID"},{state:"Illinois",abbr:"IL"},{state:"Indiana",abbr:"IN"},{state:"Iowa",abbr:"IA"},{state:"Kansas",abbr:"KS"},{state:"Kentucky",abbr:"KY"},{state:"Louisiana",abbr:"LA"},{state:"Maine",abbr:"ME"},{state:"Montana",abbr:"MT"},{state:"Nebraska",abbr:"NE"},{state:"Nevada",abbr:"NV"},{state:"New Hampshire",abbr:"NH"},{state:"New Jersey",abbr:"NJ"},{state:"New Mexico",abbr:"NM"},{state:"New York",abbr:"NY"},{state:"North Carolina",abbr:"NC"},{state:"North Dakota",abbr:"ND"},{state:"Ohio",abbr:"OH"},{state:"Oklahoma",abbr:"OK"},{state:"Oregon",abbr:"OR"},{state:"Maryland",abbr:"MD"},{state:"Massachusetts",abbr:"MA"},{state:"Michigan",abbr:"MI"},{state:"Minnesota",abbr:"MN"},{state:"Mississippi",abbr:"MS"},{state:"Missouri",abbr:"MO"},{state:"Pennsylvania",abbr:"PA"},{state:"Rhode Island",abbr:"RI"},{state:"South Carolina",abbr:"SC"},{state:"South Dakota",abbr:"SD"},{state:"Tennessee",abbr:"TN"},{state:"Texas",abbr:"TX"},{state:"Utah",abbr:"UT"},{state:"Vermont",abbr:"VT"},{state:"Virginia",abbr:"VA"},{state:"Washington",abbr:"WA"},{state:"West Virginia",abbr:"WV"},{state:"Wisconsin",abbr:"WI"},{state:"Wyoming",abbr:"WY"},{state:"Washington DC",abbr:"DC"}];exports.default=a;
},{}],"bcyP":[function(require,module,exports) {
d3.selection.prototype.northernLine=function(t){var n=this.nodes().map(function(t){var n=d3.select(t),e=n.datum(),r=0,a=0,i=0,o=0,c=0,l=d3.scaleLinear(),f=d3.scaleLinear(),s=null,d=null,u={init:function(){var t=(s=n.append("svg").attr("class","northern-chart")).append("g");t.attr("transform","translate(".concat(50,", ").concat(50,")")),s.append("g").attr("class","g-axis"),d=t.append("g").attr("class","g-vis"),u.resize(),u.render()},resize:function(){return r=n.node().offsetWidth-50-50,a=n.node().offsetHeight-50-50,s.attr("width",r+50+50).attr("height",a+50+50),l.range([a,0]).domain(d3.extent(e,function(t){return t.latDiff})),f.range([.01*r,.1*r]).domain(d3.extent(e,function(t){return t.n})),console.log(f(104)),console.log(f(5)),i=.25*r,o=.75*r,c=l(0),u},render:function(){return d.selectAll(".end-point").data(e).join(function(t){t.append("path").attr("class","move-path").attr("d",function(t){var n=.2*r,e=[i,c],a=[o,l(t.latDiff)];return["M",e,"C",[i+(n+f(t.n)),c],[o-n,l(t.latDiff)],a,"C",[o-(n+f(t.n)),l(t.latDiff)],[i+n,c],e].join(" ")}).style("fill",function(t){return t.latDiff>=0?"#E69E9E":"#DF753C"})},function(t){t.attr("cx",o).attr("cy",function(t){return l(t.latDiff)})}),d.append("circle").attr("class","starting-point").attr("r",5).attr("cx",i).attr("cy",c).raise(),u},data:function(t){return arguments.length?(e=t,n.datum(e),u.render(),u):e}};return u.init(),u});return n.length>1?n:n.pop()};
},{}],"dOkl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./pudding-chart/northern-template");var e=n(require("./load-data"));function n(e){return e&&e.__esModule?e:{default:e}}function t(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){r(e,n,t[n])})}return e}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=d3.select(".northern"),u=o.select(".figure-container"),i=null;function c(e){return e.map(function(e,n){return t({},e,{latDiff:+e.latDiff,n:+e.n})})}function f(){var e=i.filter(function(e){return"TRUE"===e.inUS}).sort(function(e){return d3.descending(e.n)});i.sort(function(e){return d3.ascending(e.n)}),u.datum(e).northernLine()}function a(){}function l(){e.default.loadCSV("northernMovement.csv").then(function(e){i=c(e),f()}).catch(console.error)}var d={resize:a,init:l};exports.default=d;
},{"./pudding-chart/northern-template":"bcyP","./load-data":"xZJw"}],"uAm8":[function(require,module,exports) {
d3.selection.prototype.tileMap=function(t){var e=this.nodes().map(function(t){var e=d3.select(t),n=e.datum(),a=0,i=null,o=!1,r=d3.select(".movement").select(".legend-scale"),c=!0===o?2:4,d={init:function(){d.resize(),d.render()},resize:function(){"Maine"===n.location?(a=e.node().offsetWidth,e.style("height","".concat(.7*a,"px"))):(a=d3.select(".block-Maine").node().offsetWidth,e.style("height","".concat(.7*a,"px")));var t=window.innerWidth;return c=!0==(o=t<=600)?10:4,r.text("".concat(c)),i=.7*a-18,"Florida"===n.location&&d3.select(".movement-figure").select(".figure-container").style("height","".concat(8*a,"px")),d},render:function(){if("blank"!=n.location){var t=e.append("div").attr("class","container").style("height","".concat(i,"px")),a=t.append("div").attr("class","container-imports"),o=t.append("div").attr("class","container-exports");e.append("div").attr("class","name-div").append("span").text(n.abbreviation).attr("class","name name-upper"),n.count&&(a.selectAll(".import dog").data(d3.range(n.count.imported/c)).join(function(t){t.append("div").attr("class","import")}),o.selectAll(".export dog").data(d3.range(n.count.exported/c)).join(function(t){t.append("div").attr("class","export")}))}return d},data:function(t){return arguments.length?(n=t,e.datum(n),d.render(),d):n}};return d.init(),d});return e.length>1?e:e.pop()};
},{}],"NDWt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./us-state-data"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=e.default.find(function(e){return e.state.toLowerCase()===t.toLowerCase()});return r?r.abbr:null}var u=r;exports.default=u;
},{"./us-state-data":"osrT"}],"KRMc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./load-data"));require("./pudding-chart/tile-template");var e=n(require("./utils/lookup-state-abbr"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=null,c=null,i=d3.select(".movement"),l=i.select(".figure-container"),u=i.select(".movement-tooltip");function d(){var t=d3.select(this),e=t.attr("data-state");if(u.style("left","".concat(d3.event.pageX,"px")).style("top","".concat(d3.event.pageY,"px")).classed("is-hidden",!1),"blank"!==e){var n=t.attr("data-imported"),o=t.attr("data-exported");u.select(".tooltip-state").text(t.attr("data-state")),u.select(".tooltip-count-import").text(n),u.select(".tooltip-count-export").text(o),u.classed("is-hidden",!1)}else u.classed("is-hidden",!0)}function s(t){return t.map(function(t,e){return o({},t,{imported:+t.imported,exported:+t.exported,number:e})})}function p(){var t=d3.map(a,function(t){return t.location}),n=c.map(function(n,o){return{location:n,gridNumber:o+1,count:t.get(n),abbreviation:"blank"===n?null:(0,e.default)(n)}});console.log({importExport:a});l.selectAll(".grid-block").data(n).join(function(t){return t.append("div").attr("class",function(t){return"grid-block block-".concat(t.location)}).attr("data-state",function(t){return t.location}).attr("data-imported",function(t){return t.count?t.count.imported:null}).attr("data-exported",function(t){return t.count?t.count.exported:null}).on("mouseover",d)}).tileMap()}function f(){t.default.loadJSON("tile-locations.json").then(function(t){c=t,p()}).catch(console.error)}function b(){}function m(){t.default.loadCSV("importExport.csv").then(function(t){a=s(t),f()}).catch(console.error)}var v={init:m,resize:b};exports.default=v;
},{"./load-data":"xZJw","./pudding-chart/tile-template":"uAm8","./utils/lookup-state-abbr":"NDWt"}],"8KNv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./load-data"));function n(t){return t&&t.__esModule?t:{default:t}}function e(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},a=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.forEach(function(n){o(t,n,e[n])})}return t}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var a=d3.select(".countries"),r=a.select(".figure-container"),c=a.selectAll(".toggle"),i=a.select(".show-more"),l=a.select(".transparency"),s=null,u="All";function d(t){return t.map(function(t,n){return e({},t,{imported:+t.imported,exported:+t.exported,international:"false"===t.inUS})})}function p(){i.on("click",function(){var t=r.classed("is-truncated"),n=t?"Show Fewer":"Show All";if(i.text(n),r.classed("is-truncated",!t),!t){var e=+i.attr("data-y");window.scrollTo(0,e)}i.attr("data-y",window.scrollY),l.classed("is-visible",!t)})}function f(){c.on("click",function(t){var n=d3.select(this);u=n.attr("data-condition"),c.classed("is-active",!1),n.classed("is-active",!0),x(u)})}function v(){var t=r.append("div").attr("class","header");t.append("p").attr("class","location-rank").text("Rank"),t.append("p").attr("class","location-name").text("Location"),t.append("p").attr("class","location-count").text("# Exported"),console.log({$toggles:c}),f(),p(),x(u)}function x(t){var n=null;n="International"===t?s.filter(function(t){return!0===t.international}):s;r.selectAll(".location").data(n,function(t,n){return"".concat(t.location,"-").concat(n)}).join(function(t){var n=t.append("div").attr("class","location").classed("international",function(t){return t.international});n.append("p").attr("class","location-rank").text(function(t,n){return n+1}),n.append("p").attr("class","location-name").text(function(t){return t.location}),n.append("p").attr("class","location-count").text(function(t){return t.exported})})}function b(){}function w(){t.default.loadCSV("importExport.csv").then(function(t){s=d(t),v()}).catch(console.error)}var y={init:w,resize:b};exports.default=y;
},{"./load-data":"xZJw"}],"epB2":[function(require,module,exports) {
"use strict";var e=d(require("lodash.debounce")),t=d(require("./utils/is-mobile")),n=d(require("./graphic")),r=d(require("./exported-dogs")),i=d(require("./footer")),o=d(require("./utils/us-state-data")),u=d(require("./northern-movement")),l=d(require("./tile-movement")),c=d(require("./countries")),a=d(require("./load-data"));function d(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=d3.select("body"),m=0,b=d3.selectAll(".stateSelect"),v="Washington",y=null,h=null,g=null;function q(){var e=p.node().offsetWidth;m!==e&&(m=e,n.default.resize())}function O(){var e=o.default.map(function(e){return e.state}).sort(function(e,t){return d3.ascending(e,t)}),t=y.filter(function(e){return e.imported>0}).map(function(e){return e.location}).sort(function(e,t){return d3.ascending(e,t)});h=b.filter(function(e,t,n){return"limited"===d3.select(n[t]).attr("data-condition")}),g=b.filter(function(e,t,n){return"all"===d3.select(n[t]).attr("data-condition")}),h.selectAll("option").data(t).enter().append("option").attr("value",function(e){return e}).text(function(e){return e}).property("selected",function(e){return e===v}),g.selectAll("option").data(e).enter().append("option").attr("value",function(e){return e}).text(function(e){return e}).property("selected",function(e){return e===v}),b.on("change",function(e){v=this.value,w()})}function w(){n.default.updateLocation(v),r.default.updateLocation(v),h.selectAll("option").property("selected",function(e){return e===v}),g.selectAll("option").property("selected",function(e){return e===v})}function x(){if(p.select("header").classed("is-sticky")){var e=p.select(".header__menu"),t=p.select(".header__toggle");t.on("click",function(){var n=e.classed("is-visible");e.classed("is-visible",!n),t.classed("is-visible",!n)})}}function _(e){return e.map(function(e,t){return s({},e,{imported:+e.imported,exported:+e.exported,number:t})})}function j(){p.classed("is-mobile",t.default.any()),window.addEventListener("resize",(0,e.default)(q,150)),x(),O(),n.default.init(v),r.default.init(v),l.default.init(),c.default.init(),i.default.init()}function A(){a.default.loadCSV("importExport.csv").then(function(e){y=_(e),j()}).catch(console.error)}A();
},{"lodash.debounce":"or4r","./utils/is-mobile":"WEtf","./graphic":"TAPd","./exported-dogs":"sOMx","./footer":"v9Q8","./utils/us-state-data":"osrT","./northern-movement":"dOkl","./tile-movement":"KRMc","./countries":"8KNv","./load-data":"xZJw"}]},{},["epB2"], null)