parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"or4r":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,v=a||s||Function("return this")(),l=Object.prototype,p=l.toString,b=Math.max,m=Math.min,y=function(){return v.Date.now()};function d(t,n,r){var i,o,u,f,c,a,s=0,v=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(e);function d(e){var n=i,r=o;return i=o=void 0,s=e,f=t.apply(r,n)}function g(t){var e=t-a;return void 0===a||e>=n||e<0||l&&t-s>=u}function O(){var t=y();if(g(t))return x(t);c=setTimeout(O,function(t){var e=n-(t-a);return l?m(e,u-(t-s)):e}(t))}function x(t){return c=void 0,p&&i?d(t):(i=o=void 0,f)}function T(){var t=y(),e=g(t);if(i=arguments,o=this,a=t,e){if(void 0===c)return function(t){return s=t,c=setTimeout(O,n),v?d(t):f}(a);if(l)return c=setTimeout(O,n),d(a)}return void 0===c&&(c=setTimeout(O,n)),f}return n=h(n)||0,j(r)&&(v=!!r.leading,u=(l="maxWait"in r)?b(h(r.maxWait)||0,n):u,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=a=o=c=void 0},T.flush=function(){return void 0===c?f:x(y())},T}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return!!t&&"object"==typeof t}function O(t){return"symbol"==typeof t||g(t)&&p.call(t)==r}function h(t){if("number"==typeof t)return t;if(O(t))return n;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||f.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}module.exports=d;
},{}],"WEtf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()}},e=r;exports.default=e;
},{}],"xZJw":[function(require,module,exports) {
"use strict";function t(t){return new Promise(function(e,n){d3.json("assets/data/".concat(t)).then(function(t){e(t)}).catch(n)})}function e(t){return new Promise(function(e,n){d3.csv("assets/data/".concat(t)).then(function(t){e(t)}).catch(n)})}function n(){t("exampleDogs.json")}function o(){e("exportedDogs.csv")}function s(){var n=[e("loc_centers.csv"),e("movement_paths.csv"),t("topo.json")];return Promise.all(n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c={loadCSV:e,loadJSON:t,loadMap:s};exports.default=c;
},{}],"TAPd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}var l=null,o=d3.selectAll(".intro"),s=d3.selectAll(".userState"),a=o.selectAll(".exampleDog"),n=o.selectAll(".intro-dog_out"),c=o.selectAll(".intro-dog_in"),r=o.selectAll(".intro-dog_image"),i=o.selectAll(".inTotal"),u=o.selectAll(".outTotal"),d=o.selectAll(".stateTotal"),_=o.selectAll(".herhis"),f=o.selectAll(".shehe"),x=o.selectAll(".moveCondition"),p=o.selectAll(".dogOrigin"),m=o.select(".intro-dog__bar"),g=null,v=null,A=null,b=d3.format(",.0f"),h=d3.format(".0%");function S(e){l=e,T()}function O(e){var t=+e[0].count_imported/+e[0].total,l=(+e[0].total-+e[0].count_imported)/+e[0].total;m.select(".bar__inState").style("flex","".concat(l," 1 0")),m.select(".bar__outState").style("flex","".concat(t," 1 0")),m.select(".bar__inState-label").text(h(l)),m.select(".bar__outState-label").text(h(t)),console.log({perOut:t,perIn:l})}function T(){A=g.filter(function(e){return e.current===l}),s.text(l),a.text(A[0].name),"TRUE"===A[0].imported?(n.classed("is-visible",!0),c.classed("is-visible",!1)):(n.classed("is-visible",!1),c.classed("is-visible",!0)),i.text(b(+A[0].count_imported)),u.text(b(+A[0].count_exported)),d.text(b(+A[0].total));var e=A[0].sex;_.text("m"===e?"his":"her"),f.text("m"===e?"he":"she"),x.text(A[0].conditions),p.text(A[0].original);var t=A[0].name.replace(" ",""),o=A[0].current.replace(" ","");r.attr("src","assets/images/faces/".concat(t,"_").concat(o,".png")),O(A)}function y(){}function j(t){e.default.loadJSON("exampleDogs.json").then(function(e){console.log({loc:t}),l=t,g=e,T()}).catch(console.error)}var D={init:j,resize:y,updateLocation:S};exports.default=D;
},{"./load-data":"xZJw"}],"HYmN":[function(require,module,exports) {
d3.selection.prototype.exportsByState=function(t){var e=this.nodes().map(function(t){var e=d3.select(t),n=e.datum(),r={init:function(){r.resize(),r.render()},resize:function(){return r},render:function(){var t=e.selectAll(".state").data(n,function(t){return t.key}).join(function(t){var e=t.append("div").attr("class","state");return e.append("p").attr("class","state-name").text(function(t){return t.key}),e.append("div").attr("class","container-mini"),e});return console.log({$state:t}),t.select(".container-mini").selectAll(".dog").data(function(t){return t.value.breedMap}).join(function(t){return t.append("div").attr("class","dog")}).style("background-image",function(t){return"mix"===t.key?"url(assets/images/profiles/labrador.png)":"url(assets/images/profiles/".concat(t.key,".png)")}),r},data:function(t){return arguments.length?(n=t,e.datum(n),r.render(),r):n}};return r.init(),r});return e.length>1?e:e.pop()};
},{}],"sOMx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return i(e)||a(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function i(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}require("./pudding-chart/exports-template");var l=null,o=d3.selectAll(".exported"),s=o.selectAll(".figure-container"),c=o.select(".show-more"),u=o.select(".transparency"),d=null,f=null,p=0;function v(){c.on("click",function(){var e=!s.classed("is-clipped"),t=e?"Show All":"Show Fewer";if(c.text(t),s.classed("is-clipped",e),e){var r=+c.attr("data-y");window.scrollTo(0,r)}c.attr("data-y",window.scrollY),u.classed("is-visible",!e)})}function y(e){l=e;var t=d.filter(function(e){return e.final_state===l});return(p=t.length)>=60?(s.classed("is-clipped",!0),u.classed("is-visible",!0),c.property("disabled",!1).classed("is-disabled",!1)):(s.classed("is-clipped",!1),u.classed("is-visible",!1),c.property("disabled",!0).classed("is-disabled",!0)),d3.nest().key(function(e){return e.original_state}).rollup(function(e){var t,n=e.length,a=d3.nest().key(function(e){return e.file}).rollup(function(e){var t=Math.floor(e.length/1);return d3.range(t).map(function(){return{key:e[0].file}})}).entries(e).sort(function(e,t){return d3.descending(e.value,t.value)});return{stateTotal:n,breedMap:(t=[]).concat.apply(t,r(a.map(function(e){return e.value})))}}).entries(t).sort(function(e,t){return d3.descending(e.value.stateTotal,t.value.stateTotal)})}function g(e){var t=y(e);f.data(t)}function b(e){var t=y(e);f=o.select(".figure-container").datum(t).exportsByState()}function h(){}function w(t){e.default.loadCSV("exportedDogs.csv").then(function(e){l=t,d=e,b(t),v()}).catch(console.error)}var m={init:w,resize:h,updateLocation:g};exports.default=m;
},{"./load-data":"xZJw","./pudding-chart/exports-template":"HYmN"}],"v9Q8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Womenâ€™s Pockets are Inferior"}],t=null;function n(e,t){var n=document.getElementsByTagName("script")[0],o=document.createElement("script");return o.src=e,o.async=!0,n.parentNode.insertBefore(o,n),t&&"function"==typeof t&&(o.onload=t),o}function o(t){var n=new XMLHttpRequest,o=Date.now(),r="https://pudding.cool/assets/data/stories.json?v=".concat(o);n.open("GET",r,!0),n.onload=function(){if(n.status>=200&&n.status<400){var o=JSON.parse(n.responseText);t(o)}else t(e)},n.onerror=function(){return t(e)},n.send()}function r(e){return"\n\t<a class='footer-recirc__article' href='https://pudding.cool/".concat(e.url,"' target='_blank'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/").concat(e.image,".jpg' alt='").concat(e.hed,"'>\n\t\t<p class='article__headline'>").concat(e.hed,"</p>\n\t</a>\n\t")}function a(){var e=window.location.href,n=t.filter(function(t){return!e.includes(t.url)}).slice(0,4).map(r).join("");d3.select(".pudding-footer .footer-recirc__articles").html(n)}function s(){var e,t,o,r,a;e=document,t="script",o="facebook-jssdk",a=e.getElementsByTagName(t)[0],e.getElementById(o)||((r=e.createElement(t)).id=o,r.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7",a.parentNode.insertBefore(r,a)),n("https://platform.twitter.com/widgets.js")}function c(){o(function(e){t=e,a(),s()})}var i={init:c};exports.default=i;
},{}],"osrT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=[{state:"Alabama",abbr:"AL"},{state:"Alaska",abbr:"AK"},{state:"Arizona",abbr:"AZ"},{state:"Arkansas",abbr:"AR"},{state:"California",abbr:"CA"},{state:"Colorado",abbr:"CO"},{state:"Connecticut",abbr:"CT"},{state:"Delaware",abbr:"DE"},{state:"District of Columbia",abbr:"DC"},{state:"Florida",abbr:"FL"},{state:"Georgia",abbr:"GA"},{state:"Hawaii",abbr:"HI"},{state:"Idaho",abbr:"ID"},{state:"Illinois",abbr:"IL"},{state:"Indiana",abbr:"IN"},{state:"Iowa",abbr:"IA"},{state:"Kansas",abbr:"KS"},{state:"Kentucky",abbr:"KY"},{state:"Louisiana",abbr:"LA"},{state:"Maine",abbr:"ME"},{state:"Montana",abbr:"MT"},{state:"Nebraska",abbr:"NE"},{state:"Nevada",abbr:"NV"},{state:"New Hampshire",abbr:"NH"},{state:"New Jersey",abbr:"NJ"},{state:"New Mexico",abbr:"NM"},{state:"New York",abbr:"NY"},{state:"North Carolina",abbr:"NC"},{state:"North Dakota",abbr:"ND"},{state:"Ohio",abbr:"OH"},{state:"Oklahoma",abbr:"OK"},{state:"Oregon",abbr:"OR"},{state:"Maryland",abbr:"MD"},{state:"Massachusetts",abbr:"MA"},{state:"Michigan",abbr:"MI"},{state:"Minnesota",abbr:"MN"},{state:"Mississippi",abbr:"MS"},{state:"Missouri",abbr:"MO"},{state:"Pennsylvania",abbr:"PA"},{state:"Rhode Island",abbr:"RI"},{state:"South Carolina",abbr:"SC"},{state:"South Dakota",abbr:"SD"},{state:"Tennessee",abbr:"TN"},{state:"Texas",abbr:"TX"},{state:"Utah",abbr:"UT"},{state:"Vermont",abbr:"VT"},{state:"Virginia",abbr:"VA"},{state:"Washington",abbr:"WA"},{state:"West Virginia",abbr:"WV"},{state:"Wisconsin",abbr:"WI"},{state:"Wyoming",abbr:"WY"},{state:"Washington DC",abbr:"DC"}];exports.default=a;
},{}],"bcyP":[function(require,module,exports) {
d3.selection.prototype.northernLine=function(t){var n=this.nodes().map(function(t){var n=d3.select(t),e=n.datum(),r=0,a=0,i=0,o=0,c=0,l=d3.scaleLinear(),f=d3.scaleLinear(),s=null,d=null,u={init:function(){var t=(s=n.append("svg").attr("class","northern-chart")).append("g");t.attr("transform","translate(".concat(50,", ").concat(50,")")),s.append("g").attr("class","g-axis"),d=t.append("g").attr("class","g-vis"),u.resize(),u.render()},resize:function(){return r=n.node().offsetWidth-50-50,a=n.node().offsetHeight-50-50,s.attr("width",r+50+50).attr("height",a+50+50),l.range([a,0]).domain(d3.extent(e,function(t){return t.latDiff})),f.range([.01*r,.1*r]).domain(d3.extent(e,function(t){return t.n})),console.log(f(104)),console.log(f(5)),i=.25*r,o=.75*r,c=l(0),u},render:function(){return d.selectAll(".end-point").data(e).join(function(t){t.append("path").attr("class","move-path").attr("d",function(t){var n=.2*r,e=[i,c],a=[o,l(t.latDiff)];return["M",e,"C",[i+(n+f(t.n)),c],[o-n,l(t.latDiff)],a,"C",[o-(n+f(t.n)),l(t.latDiff)],[i+n,c],e].join(" ")}).style("fill",function(t){return t.latDiff>=0?"#E69E9E":"#DF753C"})},function(t){t.attr("cx",o).attr("cy",function(t){return l(t.latDiff)})}),d.append("circle").attr("class","starting-point").attr("r",5).attr("cx",i).attr("cy",c).raise(),u},data:function(t){return arguments.length?(e=t,n.datum(e),u.render(),u):e}};return u.init(),u});return n.length>1?n:n.pop()};
},{}],"dOkl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./pudding-chart/northern-template");var e=n(require("./load-data"));function n(e){return e&&e.__esModule?e:{default:e}}function t(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){r(e,n,t[n])})}return e}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=d3.select(".northern"),u=o.select(".figure-container"),i=null;function c(e){return e.map(function(e,n){return t({},e,{latDiff:+e.latDiff,n:+e.n})})}function f(){var e=i.filter(function(e){return"TRUE"===e.inUS}).sort(function(e){return d3.descending(e.n)});i.sort(function(e){return d3.ascending(e.n)}),u.datum(e).northernLine()}function a(){}function l(){e.default.loadCSV("northernMovement.csv").then(function(e){i=c(e),f()}).catch(console.error)}var d={resize:a,init:l};exports.default=d;
},{"./pudding-chart/northern-template":"bcyP","./load-data":"xZJw"}],"uAm8":[function(require,module,exports) {
d3.selection.prototype.tileMap=function(t){var e=this.nodes().map(function(t){var e=d3.select(t),n=e.datum(),i=0,o=null,a=!1,r=!0===a?2:4,c={init:function(){c.resize(),c.render()},resize:function(){"Maine"===n.location?(i=e.node().offsetWidth,e.style("height","".concat(i,"px"))):(i=d3.select(".block-Maine").node().offsetWidth,e.style("height","".concat(i,"px")));var t=window.innerWidth;return r=!0==(a=t<=600)?10:2,o=i-18,"Florida"===n.location&&d3.select(".movement-figure").select(".figure-container").style("height","".concat(8*i,"px")),c},render:function(){if("blank"!=n.location){e.append("p").text(n.abbreviation);var t=e.append("div").attr("class","container").style("height","".concat(o,"px")),i=t.append("div").attr("class","container-imports"),a=t.append("div").attr("class","container-exports");n.count&&(i.selectAll(".import dog").data(d3.range(n.count.imported/r)).join(function(t){t.append("div").attr("class","import")}),a.selectAll(".export dog").data(d3.range(n.count.exported/r)).join(function(t){t.append("div").attr("class","export")}))}return c},data:function(t){return arguments.length?(n=t,e.datum(n),c.render(),c):n}};return c.init(),c});return e.length>1?e:e.pop()};
},{}],"NDWt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./us-state-data"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=e.default.find(function(e){return e.state.toLowerCase()===t.toLowerCase()});return r?r.abbr:null}var u=r;exports.default=u;
},{"./us-state-data":"osrT"}],"KRMc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./load-data"));require("./pudding-chart/tile-template");var t=n(require("./utils/lookup-state-abbr"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=null,i=null,c=d3.select(".movement"),l=c.select(".figure-container");function a(e){return e.map(function(e,t){return r({},e,{imported:+e.imported,exported:+e.exported,number:t})})}function f(){var e=d3.map(u,function(e){return e.location}),n=i.map(function(n,r){return{location:n,gridNumber:r+1,count:e.get(n),abbreviation:"blank"===n?null:(0,t.default)(n)}});console.log({tileData:n});l.selectAll(".grid-block").data(n).join(function(e){return e.append("div").attr("class",function(e){return"grid-block block-".concat(e.location)})}).tileMap()}function d(){e.default.loadJSON("tile-locations.json").then(function(e){i=e,f()}).catch(console.error)}function p(){}function s(){e.default.loadCSV("importExport.csv").then(function(e){u=a(e),d()}).catch(console.error)}var b={init:s,resize:p};exports.default=b;
},{"./load-data":"xZJw","./pudding-chart/tile-template":"uAm8","./utils/lookup-state-abbr":"NDWt"}],"epB2":[function(require,module,exports) {
"use strict";var e=l(require("lodash.debounce")),t=l(require("./utils/is-mobile")),i=l(require("./graphic")),n=l(require("./exported-dogs")),r=l(require("./footer")),a=l(require("./utils/us-state-data")),u=l(require("./northern-movement")),s=l(require("./tile-movement"));function l(e){return e&&e.__esModule?e:{default:e}}var o=d3.select("body"),d=0,c=d3.selectAll(".stateSelect"),f="Washington";function v(){var e=o.node().offsetWidth;d!==e&&(d=e,i.default.resize())}function p(){var e=a.default.map(function(e){return e.state});c.selectAll("option").data(e).enter().append("option").attr("value",function(e){return e}).text(function(e){return e}).property("selected",function(e){return e===f}),c.on("change",function(e){f=this.value,h()})}function h(){i.default.updateLocation(f),n.default.updateLocation(f)}function m(){if(o.select("header").classed("is-sticky")){var e=o.select(".header__menu"),t=o.select(".header__toggle");t.on("click",function(){var i=e.classed("is-visible");e.classed("is-visible",!i),t.classed("is-visible",!i)})}}function q(){o.classed("is-mobile",t.default.any()),window.addEventListener("resize",(0,e.default)(v,150)),m(),p(),i.default.init(f),n.default.init(f),s.default.init(),r.default.init()}q();
},{"lodash.debounce":"or4r","./utils/is-mobile":"WEtf","./graphic":"TAPd","./exported-dogs":"sOMx","./footer":"v9Q8","./utils/us-state-data":"osrT","./northern-movement":"dOkl","./tile-movement":"KRMc"}]},{},["epB2"], null)