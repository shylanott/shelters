parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"or4r":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,v=a||s||Function("return this")(),l=Object.prototype,p=l.toString,b=Math.max,m=Math.min,y=function(){return v.Date.now()};function d(t,n,r){var i,o,u,f,c,a,s=0,v=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(e);function d(e){var n=i,r=o;return i=o=void 0,s=e,f=t.apply(r,n)}function g(t){var e=t-a;return void 0===a||e>=n||e<0||l&&t-s>=u}function O(){var t=y();if(g(t))return x(t);c=setTimeout(O,function(t){var e=n-(t-a);return l?m(e,u-(t-s)):e}(t))}function x(t){return c=void 0,p&&i?d(t):(i=o=void 0,f)}function T(){var t=y(),e=g(t);if(i=arguments,o=this,a=t,e){if(void 0===c)return function(t){return s=t,c=setTimeout(O,n),v?d(t):f}(a);if(l)return c=setTimeout(O,n),d(a)}return void 0===c&&(c=setTimeout(O,n)),f}return n=h(n)||0,j(r)&&(v=!!r.leading,u=(l="maxWait"in r)?b(h(r.maxWait)||0,n):u,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=a=o=c=void 0},T.flush=function(){return void 0===c?f:x(y())},T}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return!!t&&"object"==typeof t}function O(t){return"symbol"==typeof t||g(t)&&p.call(t)==r}function h(t){if("number"==typeof t)return t;if(O(t))return n;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||f.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}module.exports=d;
},{}],"WEtf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()}},e=r;exports.default=e;
},{}],"xZJw":[function(require,module,exports) {
"use strict";function t(t){return new Promise(function(n,o){d3.json("assets/data/".concat(t)).then(function(t){n(t)}).catch(o)})}function n(t){return new Promise(function(n,o){d3.csv("assets/data/".concat(t)).then(function(t){n(t)}).catch(o)})}function o(){t("exampleDogs.json")}function e(){n("exportedDogs.csv")}function s(t){return new Promise(function(n,o){var e=t.split(".").pop();"csv"===e?d3.csv("assets/data/".concat(t)).then(n).catch(o):"json"===e?d3.json("assets/data/".concat(t)).then(n).catch(o):o(new Error("unsupported file type for: ".concat(t)))})}function c(){var o=[n("loc_centers.csv"),n("movement_paths.csv"),t("topo.json")];return Promise.all(o)}function a(){var n=[t("breed-crosswalk.json")];return Promise.all(n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={loadCSV:n,loadJSON:t,loadMap:c,loadCrosswalk:a,loadAny:s};exports.default=r;
},{}],"TAPd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return s(e)||n(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(e,t){var l=[],r=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(l.push(i.value),!t||l.length!==t);r=!0);}catch(a){n=!0,s=a}finally{try{r||null==o.return||o.return()}finally{if(n)throw s}}return l}function s(e){if(Array.isArray(e))return e}function i(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{},r=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),r.forEach(function(t){o(e,t,l[t])})}return e}function o(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var a=null,c=d3.selectAll(".intro"),d=d3.selectAll(".userState"),u=c.selectAll(".exampleDog"),f=c.selectAll(".intro-dog_out"),p=c.selectAll(".intro-dog_in"),b=c.selectAll(".intro-dog_inEx"),v=c.selectAll(".intro-dog_image"),x=c.selectAll(".inTotal"),h=c.selectAll(".outTotal"),m=c.selectAll(".stateTotal"),g=c.selectAll(".herhis"),y=c.selectAll(".shehe"),A=c.selectAll(".moveCondition"),_=c.selectAll(".dogOrigin"),O=c.select(".intro-dog__bar"),w=d3.selectAll(".exported"),P=c.selectAll(".prose-intro"),S=c.select(".intro-dog"),j=w.select(".prose-block-in"),E=w.select(".prose-block-out"),T=w.select(".prose-block-outEx"),k=null,M=null,D=null,q=null,z=null,C=d3.format(",.0f"),I=d3.format(".0%");function L(e){a=e,B()}function R(e){return e.map(function(e,t){return i({},e,{imported:"TRUE"===e.imported})})}function U(e){var t=e,l=+t.imported/+t.total,r=(+t.total-+t.imported)/+t.total;O.select(".bar__inState").style("flex","".concat(r," 1 0")),O.select(".bar__outState").style("flex","".concat(l," 1 0")),O.select(".bar__inState-label").text(l<.01?"> 99%":I(r)),O.select(".bar__outState-label").text(l<.01?"< 1%":I(l)),c.select(".inPer").text(l<.01?"< 1%":I(l));var n=0===l||0===r;O.classed("is-hidden",n)}function B(){D=k.filter(function(e){return e.current===a}),z=q.filter(function(e){return e.location===a})[0],d.text(a),u.text(D[0].name);var e=+D[0].imported;z.exported;e?(f.classed("is-visible",!0),p.classed("is-visible",!1),b.classed("is-visible",!1),j.classed("is-hidden",!1),E.classed("is-hidden",!0),T.classed("is-hidden",!0)):e||(f.classed("is-visible",!1),j.classed("is-hidden",!0),z.exported<=1?(b.classed("is-visible",!1),p.classed("is-visible",!0),E.classed("is-hidden",!1),T.classed("is-hidden",!0)):(b.classed("is-visible",!0),p.classed("is-visible",!1),E.classed("is-hidden",!0),T.classed("is-hidden",!1))),z&&(x.text(C(+z.imported)),h.text(C(+z.exported)),m.text(C(+z.total)));var t=D[0].sex;g.text("M"===t?"his":"her"),y.text("M"===t?"he":"she"),A.text(D[0].conditions),_.text(D[0].original);D[0].name.replace(" ","");var l=D[0].current.replace(" ","_");v.attr("src","assets/images/faces/".concat(l,".png")),U(z)}function F(){}function G(t){return new Promise(function(r,n){var s=["exampleDogs.json","importExport.csv"].map(e.default.loadAny);Promise.all(s).then(function(e){var n=l(e,2),s=n[0],i=n[1];k=R(s),q=i,a=t,r()}).then(B).catch(console.error)})}var H={init:G,resize:F,updateLocation:L};exports.default=H;
},{"./load-data":"xZJw"}],"HYmN":[function(require,module,exports) {
"use strict";var e=t(require("./../load-data"));function t(e){return e&&e.__esModule?e:{default:e}}d3.selection.prototype.exportsByState=function(t){var n=this.nodes().map(function(t){var n=d3.select(".exported"),a=d3.select(t),o=a.datum(),r=0,c=n.select(".exported-tooltip"),s=null;function d(){var e=d3.select(this),t=e.data()[0],n=e.node().parentNode;d3.select(n).selectAll(".dog").classed("dimmed",!0),e.classed("dimmed",!1),c.select(".tooltip-name").text(t.name),c.select(".tooltip-desc").text("".concat(t.age," • ").concat(t.sex)),c.select(".tooltip-breed").text(t.breed_secondary?"".concat(t.breed_primary," / ").concat(t.breed_secondary," mix"):"".concat(t.breed_primary));var a=d3.event.pageX,o=c.node().offsetWidth;c.style("left",function(){var e=a;return a>.5*r&&(e-=o),console.log({xMove:e,width:r}),"".concat(e,"px")}).style("top","".concat(d3.event.pageY,"px")).classed("is-hidden",!1)}function i(){d3.select(this),d3.selectAll(".dog").classed("dimmed",!1),c.classed("is-hidden",!0)}var l={init:function(){e.default.loadCrosswalk().then(function(e){d3.map(e[0],function(e){return e.file})}).catch(console.error),l.resize(),l.render()},resize:function(){return r=a.node().offsetWidth-0-0,l},render:function(){var e=a.selectAll(".state").data(o,function(e){return"".concat(e.key,"-").concat(e.values.length)}).join(function(e){var t=e.append("div").attr("class","state");return s=t.append("p").attr("class","state-name"),t.append("div").attr("class","container-mini"),t});return s.text(function(e){return"".concat(e.key," • ").concat(e.values.length)}),e.select(".container-mini").selectAll(".dog").data(function(e){return e.values.sort(function(e,t){return d3.ascending(e.file,t.file)})}).join(function(e){return e.append("div").attr("class","dog").classed("highlighted",function(e){return e.highlighted}).on("mouseover",d).on("mouseout",i)}).style("background-image",function(e){return"mix"===e.file?"url(assets/images/profiles/labrador.png)":"url(assets/images/profiles/".concat(e.file,".png)")}),l},data:function(e){return arguments.length?(o=e,a.datum(o),l.render(),l):o}};return l.init(),l});return n.length>1?n:n.pop()};
},{"./../load-data":"xZJw"}],"sOMx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){return o(e)||i(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(a){i=!0,o=a}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function o(e){if(Array.isArray(e))return e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}require("./pudding-chart/exports-template");var a=null,c=null,u="exports",d=d3.selectAll(".exported"),f=d.selectAll(".figure-container"),p=d.select(".show-more"),v=d.select(".transparency"),g=d.select(".conditionSelect"),y=d.select(".figure-warning"),m=null,h=null,b=null,x=0,w=0;function _(){p.on("click",function(){var e=!f.classed("is-clipped"),t=e?"Show All":"Show Fewer";if(p.text(t),f.classed("is-clipped",e),e){var n=+p.attr("data-y");window.scrollTo(0,n)}p.attr("data-y",window.scrollY),v.classed("is-visible",e)})}function O(){g.on("change",function(e){var t=d3.select(this).node().value;u=t,S(a)})}function A(e){var t=e.dogs,n=e.counts,r=n.imports>0;if(a!==c){u=r?"imports":"exports";g.selectAll("option").property("selected",function(e){return d3.select(this).node().value===u})}n[u]>=60?(f.classed("is-clipped",!0),v.classed("is-visible",!0),p.property("disabled",!1).classed("is-disabled",!1)):(f.classed("is-clipped",!1),v.classed("is-visible",!1),p.property("disabled",!0).classed("is-disabled",!0));var i=0===n[u];y.classed("is-visible",i),i&&(y.select(".userState").text(a),y.select(".condition").text("imports"===u?"imported from":"exported"));d3.nest().key(function(e){return"exports"===u?e.final_state:e.original_state}).key(function(e){return e.file}).rollup(function(e){return e.length}).entries(t[u]),d3.map(n,function(e){return e.key});var o=d3.nest().key(function(e){return"exports"===u?e.final_state:e.original_state}).entries(t[u]).sort(function(e,t){return d3.descending(e.values.length,t.values.length)});return c=a,o}function P(e,t){a=e,u=t;var n=h.filter(function(e){return e.final_state===a}),r=h.filter(function(e){return e.original_state===a});return A({dogs:{imports:n,exports:r},counts:{imports:n.length,exports:r.length}})}function S(e){var t=P(e,u);b.data(t)}function j(e){var t=P(e,u);b=d.select(".figure-container").datum(t).exportsByState()}function k(e){return e.map(function(e,t){return l({},e,{name:e.name.replace(/ *\([^)]*\) */g,"").replace("Adopted","").replace("Pending",""),highlighted:m.includes(e.id)})})}function D(){}function q(t){return new Promise(function(r,i){var o=["exampleDogs.json","exportedDogs.csv"].map(e.default.loadAny);Promise.all(o).then(function(e){var i=n(e,2),o=i[0],l=i[1];m=o.map(function(e){return e.id}),h=k(l),a=t,j(t,u),_(),O(),r()}).catch(console.error)})}var E={init:q,resize:D,updateLocation:S};exports.default=E;
},{"./load-data":"xZJw","./pudding-chart/exports-template":"HYmN"}],"v9Q8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Women’s Pockets are Inferior"}],t=null;function n(e,t){var n=document.getElementsByTagName("script")[0],o=document.createElement("script");return o.src=e,o.async=!0,n.parentNode.insertBefore(o,n),t&&"function"==typeof t&&(o.onload=t),o}function o(t){var n=new XMLHttpRequest,o=Date.now(),r="https://pudding.cool/assets/data/stories.json?v=".concat(o);n.open("GET",r,!0),n.onload=function(){if(n.status>=200&&n.status<400){var o=JSON.parse(n.responseText);t(o)}else t(e)},n.onerror=function(){return t(e)},n.send()}function r(e){return"\n\t<a class='footer-recirc__article' href='https://pudding.cool/".concat(e.url,"' target='_blank'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/").concat(e.image,".jpg' alt='").concat(e.hed,"'>\n\t\t<p class='article__headline'>").concat(e.hed,"</p>\n\t</a>\n\t")}function a(){var e=window.location.href,n=t.filter(function(t){return!e.includes(t.url)}).slice(0,4).map(r).join("");d3.select(".pudding-footer .footer-recirc__articles").html(n)}function s(){var e,t,o,r,a;e=document,t="script",o="facebook-jssdk",a=e.getElementsByTagName(t)[0],e.getElementById(o)||((r=e.createElement(t)).id=o,r.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7",a.parentNode.insertBefore(r,a)),n("https://platform.twitter.com/widgets.js")}function c(){o(function(e){t=e,a(),s()})}var i={init:c};exports.default=i;
},{}],"osrT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=[{state:"Alabama",abbr:"AL"},{state:"Alaska",abbr:"AK"},{state:"Arizona",abbr:"AZ"},{state:"Arkansas",abbr:"AR"},{state:"California",abbr:"CA"},{state:"Colorado",abbr:"CO"},{state:"Connecticut",abbr:"CT"},{state:"Delaware",abbr:"DE"},{state:"Florida",abbr:"FL"},{state:"Georgia",abbr:"GA"},{state:"Hawaii",abbr:"HI"},{state:"Idaho",abbr:"ID"},{state:"Illinois",abbr:"IL"},{state:"Indiana",abbr:"IN"},{state:"Iowa",abbr:"IA"},{state:"Kansas",abbr:"KS"},{state:"Kentucky",abbr:"KY"},{state:"Louisiana",abbr:"LA"},{state:"Maine",abbr:"ME"},{state:"Montana",abbr:"MT"},{state:"Nebraska",abbr:"NE"},{state:"Nevada",abbr:"NV"},{state:"New Hampshire",abbr:"NH"},{state:"New Jersey",abbr:"NJ"},{state:"New Mexico",abbr:"NM"},{state:"New York",abbr:"NY"},{state:"North Carolina",abbr:"NC"},{state:"North Dakota",abbr:"ND"},{state:"Ohio",abbr:"OH"},{state:"Oklahoma",abbr:"OK"},{state:"Oregon",abbr:"OR"},{state:"Maryland",abbr:"MD"},{state:"Massachusetts",abbr:"MA"},{state:"Michigan",abbr:"MI"},{state:"Minnesota",abbr:"MN"},{state:"Mississippi",abbr:"MS"},{state:"Missouri",abbr:"MO"},{state:"Pennsylvania",abbr:"PA"},{state:"Rhode Island",abbr:"RI"},{state:"South Carolina",abbr:"SC"},{state:"South Dakota",abbr:"SD"},{state:"Tennessee",abbr:"TN"},{state:"Texas",abbr:"TX"},{state:"Utah",abbr:"UT"},{state:"Vermont",abbr:"VT"},{state:"Virginia",abbr:"VA"},{state:"Washington",abbr:"WA"},{state:"West Virginia",abbr:"WV"},{state:"Wisconsin",abbr:"WI"},{state:"Wyoming",abbr:"WY"},{state:"Washington DC",abbr:"DC"}];exports.default=a;
},{}],"bcyP":[function(require,module,exports) {
d3.selection.prototype.northernLine=function(t){var n=this.nodes().map(function(t){var n=d3.select(t),e=n.datum(),r=0,a=0,i=0,o=0,c=0,l=d3.scaleLinear(),f=d3.scaleLinear(),s=null,d=null,u={init:function(){var t=(s=n.append("svg").attr("class","northern-chart")).append("g");t.attr("transform","translate(".concat(50,", ").concat(50,")")),s.append("g").attr("class","g-axis"),d=t.append("g").attr("class","g-vis"),u.resize(),u.render()},resize:function(){return r=n.node().offsetWidth-50-50,a=n.node().offsetHeight-50-50,s.attr("width",r+50+50).attr("height",a+50+50),l.range([a,0]).domain(d3.extent(e,function(t){return t.latDiff})),f.range([.01*r,.1*r]).domain(d3.extent(e,function(t){return t.n})),console.log(f(104)),console.log(f(5)),i=.25*r,o=.75*r,c=l(0),u},render:function(){return d.selectAll(".end-point").data(e).join(function(t){t.append("path").attr("class","move-path").attr("d",function(t){var n=.2*r,e=[i,c],a=[o,l(t.latDiff)];return["M",e,"C",[i+(n+f(t.n)),c],[o-n,l(t.latDiff)],a,"C",[o-(n+f(t.n)),l(t.latDiff)],[i+n,c],e].join(" ")}).style("fill",function(t){return t.latDiff>=0?"#E69E9E":"#DF753C"})},function(t){t.attr("cx",o).attr("cy",function(t){return l(t.latDiff)})}),d.append("circle").attr("class","starting-point").attr("r",5).attr("cx",i).attr("cy",c).raise(),u},data:function(t){return arguments.length?(e=t,n.datum(e),u.render(),u):e}};return u.init(),u});return n.length>1?n:n.pop()};
},{}],"dOkl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./pudding-chart/northern-template");var e=n(require("./load-data"));function n(e){return e&&e.__esModule?e:{default:e}}function t(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){r(e,n,t[n])})}return e}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=d3.select(".northern"),u=o.select(".figure-container"),i=null;function c(e){return e.map(function(e,n){return t({},e,{latDiff:+e.latDiff,n:+e.n})})}function f(){var e=i.filter(function(e){return"TRUE"===e.inUS}).sort(function(e){return d3.descending(e.n)});i.sort(function(e){return d3.ascending(e.n)}),u.datum(e).northernLine()}function a(){}function l(){e.default.loadCSV("northernMovement.csv").then(function(e){i=c(e),f()}).catch(console.error)}var d={resize:a,init:l};exports.default=d;
},{"./pudding-chart/northern-template":"bcyP","./load-data":"xZJw"}],"uAm8":[function(require,module,exports) {
d3.selection.prototype.tileMap=function(t){var e=this.nodes().map(function(t){var e=d3.select(t),n=e.datum(),a=!1,o=0,r=null,i=!1,c=d3.select(".movement").select(".legend-scale"),d=!0===i?2:4,s={init:function(){s.resize(),s.render()},resize:function(){"Maine"===n.location?(o=e.node().offsetWidth,e.style("height","".concat(.7*o,"px"))):(o=d3.select(".block-Maine").node().offsetWidth,e.style("height","".concat(.7*o,"px")));var t=window.innerWidth;d=!0==(i=t<=600)?20:4,c.text("".concat(d)),r=.7*o-18,"Florida"===n.location&&d3.select(".movement-figure").select(".figure-container").style("height","".concat(8*o,"px"));var l=e.select(".container-imports"),p=e.select(".container-exports");return a&&"blank"!==n.location&&(l.selectAll(".import").data(d3.range(n.count.imported/d)).join(function(t){t.append("div").attr("class","export").style("background-color","red")}),p.selectAll(".export").data(d3.range(n.count.exported/d)).join(function(t){t.append("div").attr("class","export")})),s},render:function(){if(a=!0,"blank"!=n.location){var t=e.append("div").attr("class","container").style("height","".concat(r,"px")),o=t.append("div").attr("class","container-imports"),i=t.append("div").attr("class","container-exports");e.append("div").attr("class","name-div").append("span").text(n.abbreviation).attr("class","name name-upper"),function(t){var e=t.$imports,a=t.$exports,o=t.factor;n.count&&(e.selectAll(".import dog").data(d3.range(n.count.imported/o)).join(function(t){t.append("div").attr("class","import")}),a.selectAll(".export dog").data(d3.range(n.count.exported/o)).join(function(t){t.append("div").attr("class","export")}))}({$imports:o,$exports:i,factor:d})}return s},data:function(t){return arguments.length?(n=t,e.datum(n),s.render(),s):n}};return s.init(),s});return e.length>1?e:e.pop()};
},{}],"NDWt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./us-state-data"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=e.default.find(function(e){return e.state.toLowerCase()===t.toLowerCase()});return r?r.abbr:null}var u=r;exports.default=u;
},{"./us-state-data":"osrT"}],"KRMc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./load-data"));require("./pudding-chart/tile-template");var e=n(require("./utils/lookup-state-abbr"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=null,i=null,c=d3.select(".movement"),u=c.select(".figure-container"),l=c.select(".movement-tooltip"),d=null,s=null;function f(){var t=d3.select(this);if("blank"!==t.attr("data-state")){var e=t.attr("data-imported"),n=t.attr("data-exported");l.select(".tooltip-state").text(t.attr("data-state")),l.select(".tooltip-count-import").text(e),l.select(".tooltip-count-export").text(n),l.classed("is-hidden",!1)}else l.classed("is-hidden",!0);var o=d3.event.pageX,r=l.node().offsetWidth;l.style("left",function(){var t=o;return o>.5*s&&(t-=r),"".concat(t,"px")}).style("top","".concat(d3.event.pageY,"px")).classed("is-hidden",!1)}function p(t){return t.map(function(t,e){return o({},t,{imported:+t.imported,exported:+t.exported,number:e})})}function b(){var t=d3.map(a,function(t){return t.location}),n=i.map(function(n,o){return{location:n,gridNumber:o+1,count:t.get(n),abbreviation:"blank"===n?null:(0,e.default)(n)}});d=u.selectAll(".grid-block").data(n).join(function(t){return t.append("div").attr("class",function(t){return"grid-block block-".concat(t.location)}).attr("data-state",function(t){return t.location}).attr("data-imported",function(t){return t.count?t.count.imported:null}).attr("data-exported",function(t){return t.count?t.count.exported:null}).on("mouseover",f)}).tileMap()}function m(){t.default.loadJSON("tile-locations.json").then(function(t){i=t,b()}).catch(console.error)}function v(){s=c.node().offsetWidth,d&&d.forEach(function(t){return t.resize()})}function x(){t.default.loadCSV("importExport.csv").then(function(t){a=p(t),m(),v()}).catch(console.error)}var h={init:x,resize:v};exports.default=h;
},{"./load-data":"xZJw","./pudding-chart/tile-template":"uAm8","./utils/lookup-state-abbr":"NDWt"}],"8KNv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./load-data"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=d3.select(".countries"),o=r.select(".figure-container"),a=o.select("table"),c=r.selectAll(".toggle"),l=r.select(".show-more"),s=r.select(".transparency"),u=r.selectAll("input"),d=r.select(".figure-warning"),f=null,p="All",b={domestic:!0,international:!0},v=[{title:"Rank",prop:"i"},{title:"Location",prop:"location"},{title:"# Exported",prop:"exported"}];function h(t){return t.map(function(t,e){return n({},t,{imported:+t.imported,exported:+t.exported,international:"false"===t.inUS})})}function m(){a.append("thead").selectAll("th").data(v).join(function(t){return t.append("th").text(function(t){return t.title})}),a.append("tbody")}function y(){l.on("click",function(){var t=o.classed("is-truncated"),e=t?"Show Fewer":"Show All";if(l.text(e),o.classed("is-truncated",!t),!t){var n=+l.attr("data-y");window.scrollTo(0,n)}l.attr("data-y",window.scrollY),s.classed("is-visible",!t)})}function w(){u.on("change",function(t){var e=d3.select(this),n=e.node().checked,i=e.node().value;b[i]=n,g(b)})}function x(){m(),w(),y(),g(b)}function g(t){var e=null;t.international||t.domestic?(d.classed("is-hidden",!0),o.classed("is-hidden",!1),s.classed("is-visible",!0),l.classed("is-disabled",!1),t.international&&t.domestic?e=f:t.international?e=f.filter(function(t){return!0===t.international}):t.domestic&&(e=f.filter(function(t){return!1===t.international}))):t.international&&t.domestic||(d.classed("is-hidden",!1),o.classed("is-hidden",!0),s.classed("is-visible",!1),l.classed("is-disabled",!0));a.select("tbody").selectAll("tr").data(e,function(t,e){return"".concat(t.location,"-").concat(e)}).join(function(t){return t.append("tr")}).selectAll("td").data(function(t,e){return v.map(function(n){return{value:t[n.prop],title:n.title,rank:e}})},function(t){return"".concat(t.value).concat(t.rank)}).join(function(t){return t.append("td").attr("class",function(t){return"".concat(t.title)})}).text(function(t){return"Rank"===t.title?t.rank+1:t.value})}function j(){}function O(){t.default.loadCSV("importExport.csv").then(function(t){f=h(t).filter(function(t){return t.exported>0}),x()}).catch(console.error)}var k={init:O,resize:j};exports.default=k;
},{"./load-data":"xZJw"}],"PHwb":[function(require,module,exports) {
function t(t){if(t)return e(t)}function e(e){for(var s in t.prototype)e[s]=t.prototype[s];return e}"undefined"!=typeof module&&(module.exports=t),t.prototype.on=t.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},t.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((s=r[i])===e||s.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},t.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(s){r=0;for(var i=(s=s.slice(0)).length;r<i;++r)s[r].apply(this,e)}return this},t.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},t.prototype.hasListeners=function(t){return!!this.listeners(t).length};
},{}],"L4M6":[function(require,module,exports) {
module.exports=t,t.default=t,t.stable=o,t.stableStringify=o;var r=[];function t(t,n,o){e(t,"",[],void 0);for(var f=JSON.stringify(t,n,o);0!==r.length;){var i=r.pop();i[0][i[1]]=i[2]}return f}function e(t,n,o,f){var i;if("object"==typeof t&&null!==t){for(i=0;i<o.length;i++)if(o[i]===t)return f[n]="[Circular]",void r.push([f,n,t]);if(o.push(t),Array.isArray(t))for(i=0;i<t.length;i++)e(t[i],i,o,t);else{var u=Object.keys(t);for(i=0;i<u.length;i++){var a=u[i];e(t[a],a,o,t)}}o.pop()}}function n(r,t){return r<t?-1:r>t?1:0}function o(t,e,n){for(var o=f(t,"",[],void 0)||t,i=JSON.stringify(o,e,n);0!==r.length;){var u=r.pop();u[0][u[1]]=u[2]}return i}function f(t,e,o,i){var u;if("object"==typeof t&&null!==t){for(u=0;u<o.length;u++)if(o[u]===t)return i[e]="[Circular]",void r.push([i,e,t]);if("function"==typeof t.toJSON)return;if(o.push(t),Array.isArray(t))for(u=0;u<t.length;u++)f(t[u],u,o,t);else{var a={},l=Object.keys(t).sort(n);for(u=0;u<l.length;u++){var p=l[u];f(t[p],p,o,t),a[p]=t[p]}if(void 0===i)return a;r.push([i,e,t]),i[e]=a}o.pop()}}
},{}],"ymYf":[function(require,module,exports) {
"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(t)}function t(t){return null!==t&&"object"===o(t)}module.exports=t;
},{}],"zs9O":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=require("./is-object");function r(t){if(t)return i(t)}function i(t){for(var e in r.prototype)Object.prototype.hasOwnProperty.call(r.prototype,e)&&(t[e]=r.prototype[e]);return t}module.exports=r,r.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},r.prototype.parse=function(t){return this._parser=t,this},r.prototype.responseType=function(t){return this._responseType=t,this},r.prototype.serialize=function(t){return this._serializer=t,this},r.prototype.timeout=function(e){if(!e||"object"!==t(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))switch(r){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",r)}return this},r.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];r.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(!0===r)return!0;if(!1===r)return!1}catch(i){console.error(i)}if(e&&e.status&&e.status>=500&&501!==e.status)return!0;if(t){if(t.code&&-1!==o.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(t,e){var r=this;if(!this._fullfilledPromise){var i=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){i.on("abort",function(){var t=new Error("Aborted");t.code="ABORTED",t.status=r.status,t.method=r.method,t.url=r.url,e(t)}),i.end(function(r,i){r?e(r):t(i)})})}return this._fullfilledPromise.then(t,e)},r.prototype.catch=function(t){return this.then(void 0,t)},r.prototype.use=function(t){return t(this),this},r.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},r.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},r.prototype.get=function(t){return this._header[t.toLowerCase()]},r.prototype.getHeader=r.prototype.get,r.prototype.set=function(t,r){if(e(t)){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=r,this.header[t]=r,this},r.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},r.prototype.field=function(t,r){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(e(t)){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.field(i,t[i]);return this}if(Array.isArray(r)){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&this.field(t,r[o]);return this}if(null==r)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof r&&(r=String(r)),this._getFormData().append(t,r),this},r.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},r.prototype._auth=function(t,e,r,i){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(i("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},r.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},r.prototype.redirects=function(t){return this._maxRedirects=t,this},r.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(t){var r=e(t),i=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(r&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(r&&e(this._data))for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(this._data[o]=t[o]);else"string"==typeof t?(i||this.type("form"),i=this._header["content-type"],this._data="application/x-www-form-urlencoded"===i?this._data?"".concat(this._data,"&").concat(t):t:(this._data||"")+t):this._data=t;return!r||this._isHost(t)?this:(i||this.type("json"),this)},r.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},r.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var r=this.url.substring(e+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,e)+"?"+r.join("&")}}},r.prototype._appendQueryString=function(){console.warn("Unsupported")},r.prototype._timeoutError=function(t,e,r){if(!this._aborted){var i=new Error("".concat(t+e,"ms exceeded"));i.timeout=e,i.code="ECONNABORTED",i.errno=r,this.timedout=!0,this.abort(),this.callback(i)}},r.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};
},{"./is-object":"ymYf"}],"4wfi":[function(require,module,exports) {
"use strict";exports.type=function(e){return e.split(/ *; */).shift()},exports.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},exports.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},exports.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e};
},{}],"afOI":[function(require,module,exports) {
"use strict";var t=require("./utils");function e(t){if(t)return r(t)}function r(t){for(var r in e.prototype)Object.prototype.hasOwnProperty.call(e.prototype,r)&&(t[r]=e.prototype[r]);return t}module.exports=e,e.prototype.get=function(t){return this.header[t.toLowerCase()]},e.prototype._setHeaderProperties=function(e){var r=e["content-type"]||"";this.type=t.type(r);var s=t.params(r);for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(this[i]=s[i]);this.links={};try{e.link&&(this.links=t.parseLinks(e.link))}catch(o){}},e.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t};
},{"./utils":"4wfi"}],"zbFA":[function(require,module,exports) {
"use strict";function t(t){return n(t)||e(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}function o(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){o.prototype[t]=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return this._defaults.push({fn:t,args:e}),this}}),o.prototype._setDefaults=function(r){this._defaults.forEach(function(e){r[e.fn].apply(r,t(e.args))})},module.exports=o;
},{}],"CC3B":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e;"undefined"!=typeof window?e=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),e=void 0):e=self;var r=require("component-emitter"),o=require("fast-safe-stringify"),n=require("./request-base"),s=require("./is-object"),i=require("./response-base"),a=require("./agent-base");function u(){}module.exports=function(t,e){return"function"==typeof e?new exports.Request("GET",t).end(e):1===arguments.length?new exports.Request("GET",t):new exports.Request(t,e)},exports=module.exports;var p=exports;exports.Request=w,p.getXHR=function(){if(e.XMLHttpRequest&&(!e.location||"file:"!==e.location.protocol||!e.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("Browser-only version of superagent could not find XHR")};var c="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function h(t){if(!s(t))return t;var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&l(e,r,t[r]);return e.join("&")}function l(t,e,r){if(void 0!==r)if(null!==r)if(Array.isArray(r))r.forEach(function(r){l(t,e,r)});else if(s(r))for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&l(t,"".concat(e,"[").concat(o,"]"),r[o]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));else t.push(encodeURIComponent(e))}function d(t){for(var e,r,o={},n=t.split("&"),s=0,i=n.length;s<i;++s)-1===(r=(e=n[s]).indexOf("="))?o[decodeURIComponent(e)]="":o[decodeURIComponent(e.slice(0,r))]=decodeURIComponent(e.slice(r+1));return o}function f(t){for(var e,r,o,n,s=t.split(/\r?\n/),i={},a=0,u=s.length;a<u;++a)-1!==(e=(r=s[a]).indexOf(":"))&&(o=r.slice(0,e).toLowerCase(),n=c(r.slice(e+1)),i[o]=n);return i}function y(t){return/[\/+]json($|[^-\w])/.test(t)}function m(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=f(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function w(t,e){var r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,o=null;try{o=new m(r)}catch(n){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=n,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",o);try{r._isResponseOK(o)||(t=new Error(o.statusText||"Unsuccessful HTTP response"))}catch(n){t=n}t?(t.original=e,t.response=o,t.status=o.status,r.callback(t,o)):r.callback(null,o)})}function T(t,e,r){var o=p("DELETE",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o}p.serializeObject=h,p.parseString=d,p.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},p.serialize={"application/x-www-form-urlencoded":h,"application/json":o},p.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse},i(m.prototype),m.prototype._parseBody=function(t){var e=p.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&y(this.type)&&(e=p.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)},m.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,o="cannot ".concat(e," ").concat(r," (").concat(this.status,")"),n=new Error(o);return n.status=this.status,n.method=e,n.url=r,n},p.Response=m,r(w.prototype),n(w.prototype),w.prototype.type=function(t){return this.set("Content-Type",p.types[t]||t),this},w.prototype.accept=function(t){return this.set("Accept",p.types[t]||t),this},w.prototype.auth=function(e,r,o){1===arguments.length&&(r=""),"object"===t(r)&&null!==r&&(o=r,r=""),o||(o={type:"function"==typeof btoa?"basic":"auto"});return this._auth(e,r,o,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},w.prototype.query=function(t){return"string"!=typeof t&&(t=h(t)),t&&this._query.push(t),this},w.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this},w.prototype._getFormData=function(){return this._formData||(this._formData=new e.FormData),this._formData},w.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)},w.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},w.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},w.prototype.buffer=w.prototype.ca,w.prototype.ca=w.prototype.agent,w.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},w.prototype.pipe=w.prototype.write,w.prototype._isHost=function(e){return e&&"object"===t(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},w.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||u,this._finalizeQueryString(),this._end()},w.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},w.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var t=this;this.xhr=p.getXHR();var e=this.xhr,r=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var r=e.readyState;if(r>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4===r){var o;try{o=e.status}catch(n){o=0}if(!o){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var o=function(e,r){r.total>0&&(r.percent=r.loaded/r.total*100,100===r.percent&&clearTimeout(t._uploadTimeoutTimer)),r.direction=e,t.emit("progress",r)};if(this.hasListeners("progress"))try{e.addEventListener("progress",o.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",o.bind(null,"upload"))}catch(a){}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(a){return this.callback(a)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof r&&!this._isHost(r)){var n=this._header["content-type"],s=this._serializer||p.serialize[n?n.split(";")[0]:""];!s&&y(n)&&(s=p.serialize["application/json"]),s&&(r=s(r))}for(var i in this.header)null!==this.header[i]&&Object.prototype.hasOwnProperty.call(this.header,i)&&e.setRequestHeader(i,this.header[i]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0===r?null:r)},p.agent=function(){return new a},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){a.prototype[t.toLowerCase()]=function(e,r){var o=new p.Request(t,e);return this._setDefaults(o),r&&o.end(r),o}}),a.prototype.del=a.prototype.delete,p.get=function(t,e,r){var o=p("GET",t);return"function"==typeof e&&(r=e,e=null),e&&o.query(e),r&&o.end(r),o},p.head=function(t,e,r){var o=p("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&o.query(e),r&&o.end(r),o},p.options=function(t,e,r){var o=p("OPTIONS",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},p.del=T,p.delete=T,p.patch=function(t,e,r){var o=p("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},p.post=function(t,e,r){var o=p("POST",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},p.put=function(t,e,r){var o=p("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o};
},{"component-emitter":"PHwb","fast-safe-stringify":"L4M6","./request-base":"zs9O","./is-object":"ymYf","./response-base":"afOI","./agent-base":"zbFA"}],"3HZv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ip:"72.228.10.129",hostname:"cpe-72-228-10-129.nycap.res.rr.com",type:"ipv4",continent_code:"NA",continent_name:"North America",country_code:"US",country_name:"United States",region_code:"MA",region_name:"Massachusetts",city:"Great Barrington",zip:"01230",latitude:42.1617,longitude:-73.3277,location:{geoname_id:4938157,capital:"Washington D.C.",languages:[{code:"en",name:"English",native:"English"}],country_flag:"http://assets.ipstack.com/flags/us.svg",country_flag_emoji:"🇺🇸",country_flag_emoji_unicode:"U+1F1FA U+1F1F8",calling_code:"1",is_eu:!1},time_zone:{id:"America/New_York",current_time:"2018-04-17T15:29:13-04:00",gmt_offset:-14400,code:"EDT",is_daylight_saving:!0},currency:{code:"USD",name:"US Dollar",plural:"US dollars",symbol:"$",symbol_native:"$"},connection:{asn:11351,isp:"Time Warner Cable Internet LLC"},security:{is_proxy:!1,proxy_type:null,is_crawler:!1,crawler_name:null,crawler_type:null,is_tor:!1,threat_level:"low",threat_types:null}};exports.default=e;
},{}],"NSOq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("superagent")),t=r(require("./locate-test"));function r(e){return e&&e.__esModule?e:{default:e}}var n=!1,u=4e3,s=null;function o(){if(n)return Promise.resolve(t.default);return new Promise(function(t,r){e.default.get("https://api.ipify.org?format=json").end(function(e,n){e?r(e):n&&n.status>=200&&n.status<400?t(JSON.parse(n.text)):r(e)})})}function i(r){var u=r.ip;if(n)return Promise.resolve(t.default);var o="https://api.ipstack.com/".concat(u,"?access_key=").concat(s);return new Promise(function(t,r){e.default.get(o).end(function(e,n){if(e)r(e);else if(n&&n.status>=200&&n.status<400){var u=JSON.parse(n.text);u.error?r(u.error):t(u)}else r(e)})})}function a(e,t){if(e){s=e;var r=setTimeout(function(){return t("timeout")},u);o().then(i).then(function(e){clearTimeout(r),t(null,e)}).catch(function(e){return t(e)})}else t("error: must pass ipstack key")}var c=a;exports.default=c;
},{"superagent":"CC3B","./locate-test":"3HZv"}],"epB2":[function(require,module,exports) {
"use strict";var e=s(require("lodash.debounce")),t=s(require("./utils/is-mobile")),n=s(require("./graphic")),r=s(require("./exported-dogs")),i=s(require("./footer")),o=s(require("./utils/us-state-data")),u=s(require("./northern-movement")),a=s(require("./tile-movement")),c=s(require("./countries")),l=s(require("./load-data")),d=s(require("./utils/locate"));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=d3.select("body"),b=0,v=d3.selectAll(".stateSelect"),y="New York",g={country_code:"US",country_name:"United States",region_code:"NY",region_name:"New York",city:"New York",zip_code:"10001",time_zone:"America/New_York",latitude:40,longitude:-72},_=null,h=null,q=null;function w(){var e=m.node().offsetWidth;b!==e&&(b=e,n.default.resize(),a.default.resize())}function O(){return new Promise(function(e,t){(0,d.default)("fd4d87f605681c0959c16d9164ab6a4a",function(t,n){y=t||"US"!==n.country_code?g.region_name:n.region_name,e(y)})})}function k(e){"all"===e&&n.default.updateLocation(y),r.default.updateLocation(y),h.selectAll("option").property("selected",function(e){return e===y})}function S(){var e=o.default.map(function(e){return e.state}).sort(function(e,t){return d3.ascending(e,t)});v.selectAll("option").data(e).enter().append("option").attr("value",function(e){return e}).text(function(e){return e}).property("selected",function(e){return e===y}),v.on("change",function(){var e=d3.select(this).attr("data-condition");y=this.value,k(e)})}function j(){if(m.select("header").classed("is-sticky")){var e=m.select(".header__menu"),t=m.select(".header__toggle");t.on("click",function(){var n=e.classed("is-visible");e.classed("is-visible",!n),t.classed("is-visible",!n)})}}function x(e){return e.map(function(e,t){return f({},e,{imported:+e.imported,exported:+e.exported,number:t})})}function z(){m.classed("is-mobile",t.default.any()),window.addEventListener("resize",(0,e.default)(w,150)),j(),O().then(function(){S(),n.default.init(y),r.default.init(y),a.default.init(),c.default.init()}),i.default.init()}function N(){l.default.loadCSV("importExport.csv").then(function(e){_=x(e),z()}).catch(console.error)}N();
},{"lodash.debounce":"or4r","./utils/is-mobile":"WEtf","./graphic":"TAPd","./exported-dogs":"sOMx","./footer":"v9Q8","./utils/us-state-data":"osrT","./northern-movement":"dOkl","./tile-movement":"KRMc","./countries":"8KNv","./load-data":"xZJw","./utils/locate":"NSOq"}]},{},["epB2"], null)